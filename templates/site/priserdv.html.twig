{% extends "home.html.twig" %}

{% block title %}gestion prise de rendez vous
{% endblock %}
{% block stylessheets %}
	<style>
		#calendrier {
			width: 70%;
			margin: auto;
		}
	</style>

{% endblock %}

{% block body %}
	{{dump(data)}}
	<h1 class="display-4 text-center my-5">Prise de rendez vous avec le Docteur
		<strong class="text-success">{{nomMedecin}}</strong>

		<div id="calendrier" class="col-md-10 mx-auto"></div>


		!!!</h1>


	{{ form_start(formRdv ,{'attr': {'class': 'col-md-5 mx-auto'}}) }}
	{{ form_row(formRdv.date) }}
	{{ form_row(formRdv.horaires) }}
	{# {{ form_row(formRdv.utilisateurs) }} #}
	{# {{ form_row(formRdv.medecins) }} #}
	{# {{ form_row(formRdv.mesRdv) }} #}
		<button class="btn btn-secondary mb-5"> Confirmer le rendez vous</button>
	{{ form_end(formRdv) }}

{% endblock %}
{% block javascripts %}
	<script>
		window.onload = () => {
let calendarElt = document.querySelector("#calendrier")
let calendar = new FullCalendar.Calendar(calendarElt, {
initialView: 'dayGridMonth',
locale: 'fr',
timeZone: 'Europe/Paris',
headerToolbar: {
start: 'prev,next today',
center: 'title',
end: 'dayGridMonth, timeGridWeek'
},
events: {{ data|raw }}
})
calendar.render()
}
	</script>
{% endblock %}
